<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDS Block Generation - Trainer Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --adobe-red: #FA0F00;
            --dark-gray: #333333;
            --light-gray: #f5f5f5;
            --accent: #4ECDC4;
            --say-bg: #E3F2FD;
            --say-border: #2196F3;
            --do-bg: #E8F5E9;
            --do-border: #4CAF50;
            --ask-bg: #FFF3E0;
            --ask-border: #FF9800;
            --check-bg: #FCE4EC;
            --check-border: #E91E63;
            --note-bg: #F3E5F5;
            --note-border: #9C27B0;
            --code-bg: #F5F5F5;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.6;
            color: var(--dark-gray);
            background: #fff;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        /* Header */
        .title-page {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            margin: -40px -20px 40px -20px;
        }
        
        .title-page h1 {
            font-size: 2.5rem;
            color: var(--adobe-red);
            margin-bottom: 10px;
        }
        
        .title-page h2 {
            font-size: 1.8rem;
            font-weight: 400;
            margin-bottom: 5px;
        }
        
        .title-page h3 {
            font-size: 1.3rem;
            color: #888;
            font-weight: 400;
        }
        
        .title-page .meta {
            margin-top: 30px;
            color: var(--accent);
        }
        
        /* Reference Links Box */
        .ref-links {
            background: #FFF8E1;
            border: 2px solid #FFB300;
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
        }
        
        .ref-links h4 {
            margin-bottom: 15px;
            color: var(--dark-gray);
        }
        
        .ref-links ul {
            list-style: none;
        }
        
        .ref-links li {
            margin-bottom: 8px;
        }
        
        .ref-links a {
            color: #1565C0;
            text-decoration: none;
        }
        
        .ref-links a:hover {
            text-decoration: underline;
        }
        
        /* Section Headers */
        .section-header {
            font-size: 1.5rem;
            color: var(--adobe-red);
            border-bottom: 3px solid var(--adobe-red);
            padding-bottom: 10px;
            margin: 50px 0 25px 0;
        }
        
        .subsection {
            font-size: 1.2rem;
            color: var(--dark-gray);
            margin: 30px 0 15px 0;
            font-weight: 600;
        }
        
        /* Time indicator */
        .time {
            text-align: right;
            color: #666;
            font-style: italic;
            margin-bottom: 20px;
        }
        
        /* Trainer boxes */
        .trainer-box {
            border-radius: 4px;
            padding: 15px 20px;
            margin: 15px 0;
            border-left: 5px solid;
        }
        
        .trainer-box.say {
            background: var(--say-bg);
            border-color: var(--say-border);
        }
        
        .trainer-box.do {
            background: var(--do-bg);
            border-color: var(--do-border);
        }
        
        .trainer-box.ask {
            background: var(--ask-bg);
            border-color: var(--ask-border);
        }
        
        .trainer-box.check {
            background: var(--check-bg);
            border-color: var(--check-border);
        }
        
        .trainer-box.note {
            background: var(--note-bg);
            border-color: var(--note-border);
        }
        
        .trainer-box .label {
            font-weight: 700;
            margin-right: 8px;
        }
        
        .trainer-box.say .label { color: var(--say-border); }
        .trainer-box.do .label { color: var(--do-border); }
        .trainer-box.ask .label { color: var(--ask-border); }
        .trainer-box.check .label { color: var(--check-border); }
        .trainer-box.note .label { color: var(--note-border); }
        
        /* Code blocks */
        pre {
            background: var(--code-bg);
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 15px 20px;
            overflow-x: auto;
            font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
            margin: 15px 0;
        }
        
        code {
            font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        
        pre code {
            background: none;
            padding: 0;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px 15px;
            text-align: left;
        }
        
        th {
            background: var(--light-gray);
            font-weight: 600;
        }
        
        /* Lists */
        ul, ol {
            margin: 15px 0;
            padding-left: 25px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* Paragraphs */
        p {
            margin-bottom: 15px;
        }
        
        /* TOC */
        .toc {
            background: var(--light-gray);
            padding: 25px 30px;
            border-radius: 8px;
            margin: 30px 0;
        }
        
        .toc h3 {
            margin-bottom: 15px;
            color: var(--adobe-red);
        }
        
        .toc ul {
            list-style: none;
            padding: 0;
        }
        
        .toc li {
            margin-bottom: 10px;
        }
        
        .toc a {
            color: var(--dark-gray);
            text-decoration: none;
        }
        
        .toc a:hover {
            color: var(--adobe-red);
        }
        
        /* Print styles */
        @media print {
            .title-page {
                background: white;
                color: black;
            }
            .title-page h1 {
                color: var(--adobe-red);
            }
            .container {
                max-width: 100%;
            }
        }
        
        /* Back to top */
        .back-link {
            display: inline-block;
            margin: 30px 0;
            color: var(--adobe-red);
            text-decoration: none;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
        
        /* Navigation */
        .nav {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 10px 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 100;
        }
        
        .nav a {
            color: var(--adobe-red);
            text-decoration: none;
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .nav {
                display: none;
            }
            .title-page h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <nav class="nav">
        <a href="index.html">â† Back to Downloads</a>
    </nav>
    
    <div class="title-page">
        <h1>EDS BLOCK GENERATION</h1>
        <h2>Developer Training</h2>
        <h3>TRAINER GUIDE</h3>
        <p class="meta">Duration: 5-6 Hours | Level: Intermediate</p>
    </div>
    
    <div class="container">
        <div class="ref-links">
            <h4>ğŸ“š Reference Links</h4>
            <ul>
                <li>â€¢ Setup Tutorial: <a href="http://www.aem.live/developer/ue-tutorial" target="_blank">aem.live/developer/ue-tutorial</a></li>
                <li>â€¢ Anatomy of Project: <a href="https://www.aem.live/developer/anatomy-of-a-project" target="_blank">aem.live/developer/anatomy-of-a-project</a></li>
                <li>â€¢ Block Collection: <a href="https://www.aem.live/developer/block-collection" target="_blank">aem.live/developer/block-collection</a></li>
                <li>â€¢ Best Practices: <a href="https://www.aem.live/docs/dev-collab-and-good-practices" target="_blank">aem.live/docs/dev-collab-and-good-practices</a></li>
                <li>â€¢ Boilerplate Repo: <a href="https://github.com/adobe-rnd/aem-boilerplate-xwalk" target="_blank">github.com/adobe-rnd/aem-boilerplate-xwalk</a></li>
            </ul>
        </div>
        
        <div class="toc">
            <h3>Table of Contents</h3>
            <ul>
                <li><a href="#section1">1. Training Overview & Objectives</a></li>
                <li><a href="#section2">2. Pre-Training Checklist</a></li>
                <li><a href="#section3">3. Module 1: Introduction to EDS (45 min)</a></li>
                <li><a href="#section4">4. Module 2: Project Structure (30 min)</a></li>
                <li><a href="#section5">5. Module 3: Block Anatomy (60 min)</a></li>
                <li><a href="#section6">6. Module 4: Building Your First Block (90 min)</a></li>
                <li><a href="#section7">7. Module 5: Advanced Block Patterns (60 min)</a></li>
                <li><a href="#section8">8. Module 6: Block Variants (45 min)</a></li>
                <li><a href="#section9">9. Exercise Solutions</a></li>
                <li><a href="#section10">10. Troubleshooting Guide</a></li>
            </ul>
        </div>
        
        <!-- Section 1 -->
        <h2 class="section-header" id="section1">1. Training Overview & Objectives</h2>
        
        <h3 class="subsection">Training Purpose</h3>
        <p>This hands-on training will equip intermediate developers with the skills to build custom blocks for AEM Edge Delivery Services (EDS). By the end of this session, participants will be able to create, style, and deploy production-ready blocks.</p>
        
        <h3 class="subsection">Learning Objectives</h3>
        <p>Upon completion, participants will be able to:</p>
        <ul>
            <li>Understand EDS architecture and content flow</li>
            <li>Navigate and modify EDS project structure</li>
            <li>Create blocks with JavaScript and CSS</li>
            <li>Implement block variants for different use cases</li>
            <li>Apply best practices for performance optimization</li>
            <li>Debug common block issues</li>
        </ul>
        
        <h3 class="subsection">Target Audience</h3>
        <p>Intermediate developers who are familiar with:</p>
        <ul>
            <li>HTML, CSS, JavaScript (ES6+)</li>
            <li>Basic AEM concepts</li>
            <li>Git version control</li>
        </ul>
        
        <h3 class="subsection">Training Schedule</h3>
        <table>
            <thead>
                <tr>
                    <th>Time</th>
                    <th>Module</th>
                    <th>Duration</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>09:00 - 09:45</td><td>Module 1: Introduction to EDS</td><td>45 min</td></tr>
                <tr><td>09:45 - 10:15</td><td>Module 2: Project Structure</td><td>30 min</td></tr>
                <tr><td>10:15 - 10:30</td><td>â˜• Break</td><td>15 min</td></tr>
                <tr><td>10:30 - 11:30</td><td>Module 3: Block Anatomy</td><td>60 min</td></tr>
                <tr><td>11:30 - 13:00</td><td>Module 4: Building Your First Block</td><td>90 min</td></tr>
                <tr><td>13:00 - 14:00</td><td>ğŸ½ Lunch Break</td><td>60 min</td></tr>
                <tr><td>14:00 - 15:00</td><td>Module 5: Advanced Block Patterns</td><td>60 min</td></tr>
                <tr><td>15:00 - 15:15</td><td>â˜• Break</td><td>15 min</td></tr>
                <tr><td>15:15 - 16:00</td><td>Module 6: Block Variants & Wrap-up</td><td>45 min</td></tr>
            </tbody>
        </table>
        
        <!-- Section 2 -->
        <h2 class="section-header" id="section2">2. Pre-Training Checklist</h2>
        
        <h3 class="subsection">Environment Setup (Complete 1 day before)</h3>
        
        <div class="trainer-box check">
            <span class="label">[CHECK]</span> Verify all participants have completed the setup tutorial at aem.live/developer/ue-tutorial
        </div>
        
        <ul>
            <li>â–¡ Node.js v18+ installed on all machines</li>
            <li>â–¡ Git configured with GitHub/GitLab access</li>
            <li>â–¡ VS Code with recommended extensions:
                <ul>
                    <li>AEM Sidekick Extension</li>
                    <li>Live Server</li>
                    <li>ESLint</li>
                </ul>
            </li>
            <li>â–¡ Boilerplate repository cloned from github.com/adobe-rnd/aem-boilerplate-xwalk</li>
            <li>â–¡ Local development server tested (npm start works)</li>
            <li>â–¡ Sidekick connected to test site</li>
        </ul>
        
        <h3 class="subsection">Materials Prepared</h3>
        <ul>
            <li>â–¡ Slides loaded and tested on presentation screen</li>
            <li>â–¡ Code examples ready in separate VS Code window</li>
            <li>â–¡ Block collection page open: aem.live/developer/block-collection</li>
            <li>â–¡ Exercise starter files distributed</li>
            <li>â–¡ Backup offline copies of documentation</li>
        </ul>
        
        <h3 class="subsection">Room Setup</h3>
        <ul>
            <li>â–¡ Projector/screen visible to all participants</li>
            <li>â–¡ WiFi credentials shared</li>
            <li>â–¡ Power outlets accessible</li>
            <li>â–¡ Whiteboard/flipchart available for diagrams</li>
        </ul>
        
        <!-- Section 3 -->
        <h2 class="section-header" id="section3">3. Module 1: Introduction to EDS</h2>
        <p class="time">â± Duration: 45 minutes</p>
        
        <h3 class="subsection">1.1 What is Edge Delivery Services?</h3>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Welcome everyone! Today we're going to dive deep into building blocks for AEM Edge Delivery Services. Let's start by understanding what EDS is and why it's revolutionizing web development at Adobe.
        </div>
        
        <div class="trainer-box do">
            <span class="label">[DO]</span> Show the AEM Live homepage and navigate to the developer documentation.
        </div>
        
        <p><strong>Key Points to Cover:</strong></p>
        <ul>
            <li>EDS is Adobe's next-generation content delivery platform</li>
            <li>Achieves near-perfect Lighthouse scores (100/100)</li>
            <li>Content authoring in Google Docs or Microsoft Word</li>
            <li>Automatic conversion to optimized HTML</li>
            <li>Edge-first architecture for global performance</li>
        </ul>
        
        <div class="trainer-box ask">
            <span class="label">[ASK]</span> Has anyone worked with traditional AEM Sites? What were some performance challenges you faced?
        </div>
        
        <h3 class="subsection">1.2 EDS vs Traditional AEM</h3>
        
        <div class="trainer-box do">
            <span class="label">[DO]</span> Draw this comparison on the whiteboard:
        </div>
        
<pre>Traditional AEM:                    Edge Delivery Services:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Author (AEM)      â”‚              â”‚  Author (Docs/Word) â”‚
â”‚        â†“            â”‚              â”‚         â†“           â”‚
â”‚   Dispatcher        â”‚              â”‚   GitHub Repo       â”‚
â”‚        â†“            â”‚              â”‚         â†“           â”‚
â”‚   CDN               â”‚              â”‚   Edge Network      â”‚
â”‚        â†“            â”‚              â”‚         â†“           â”‚
â”‚   Browser (Heavy)   â”‚              â”‚   Browser (Light)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> The key difference is simplicity. With EDS, content authors work in familiar tools, and the system automatically optimizes everything for performance.
        </div>
        
        <h3 class="subsection">1.3 Content Flow in EDS</h3>
        
        <div class="trainer-box do">
            <span class="label">[DO]</span> Walk through this content flow diagram:
        </div>
        
<pre>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Google Doc  â”‚ â†’  â”‚  Table/Div   â”‚ â†’  â”‚  HTML Block  â”‚ â†’  â”‚   Styled     â”‚
â”‚  or Word     â”‚    â”‚  Structure   â”‚    â”‚  &lt;div&gt;       â”‚    â”‚   Component  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    Author              Parse            decorate()          CSS + JS</pre>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Authors create content in documents. Tables become blocks. The block name comes from the first cell. Our JavaScript decorate() function transforms the raw HTML, and CSS styles it.
        </div>
        
        <h3 class="subsection">1.4 Hands-on: Explore a Live EDS Site</h3>
        <p class="time">â± 15 minutes</p>
        
        <div class="trainer-box do">
            <span class="label">[DO]</span> Have participants open browser DevTools on an EDS site and inspect block structures.
        </div>
        
        <p><strong>Exercise 1.1: Site Inspection</strong></p>
        <ol>
            <li>Open https://www.aem.live in your browser</li>
            <li>Open DevTools (F12) and go to Elements tab</li>
            <li>Find a block element (look for class like 'block')</li>
            <li>Note the class naming convention</li>
            <li>Check the Network tab - observe the minimal requests</li>
        </ol>
        
        <div class="trainer-box check">
            <span class="label">[CHECK]</span> Walk around and ensure everyone can identify block elements in the DOM. Help anyone having trouble with DevTools.
        </div>
        
        <!-- Section 4 -->
        <h2 class="section-header" id="section4">4. Module 2: Project Structure</h2>
        <p class="time">â± Duration: 30 minutes</p>
        
        <h3 class="subsection">2.1 Anatomy of an EDS Project</h3>
        
        <div class="trainer-box do">
            <span class="label">[DO]</span> Open the boilerplate repository in VS Code and show the folder structure.
        </div>
        
<pre>project-root/
â”œâ”€â”€ blocks/                 # All custom blocks live here
â”‚   â”œâ”€â”€ cards/
â”‚   â”‚   â”œâ”€â”€ cards.js       # Block JavaScript
â”‚   â”‚   â””â”€â”€ cards.css      # Block styles
â”‚   â”œâ”€â”€ columns/
â”‚   â”‚   â”œâ”€â”€ columns.js
â”‚   â”‚   â””â”€â”€ columns.css
â”‚   â””â”€â”€ hero/
â”‚       â”œâ”€â”€ hero.js
â”‚       â””â”€â”€ hero.css
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ aem.js             # Core EDS utilities (DON'T MODIFY)
â”‚   â”œâ”€â”€ scripts.js         # Your custom scripts
â”‚   â””â”€â”€ delayed.js         # Lazy-loaded scripts
â”œâ”€â”€ styles/
â”‚   â”œâ”€â”€ styles.css         # Global styles
â”‚   â””â”€â”€ fonts.css          # Font definitions
â”œâ”€â”€ head.html              # &lt;head&gt; contents
â”œâ”€â”€ header.html            # Site header
â”œâ”€â”€ footer.html            # Site footer
â””â”€â”€ 404.html               # Error page</pre>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> The most important thing to remember is the naming convention. For a block called "hero", you MUST have a folder called "hero" containing "hero.js" and "hero.css". The names must match exactly.
        </div>
        
        <h3 class="subsection">2.2 Key Files Explained</h3>
        
        <p><strong>scripts/aem.js - Core Utilities</strong></p>
        
        <div class="trainer-box note">
            <span class="label">[NOTE]</span> This file contains essential utilities. Never modify it directly - it's maintained by Adobe.
        </div>
        
        <p>Key functions from aem.js:</p>
        <ul>
            <li><code>createOptimizedPicture()</code> - Generates responsive images</li>
            <li><code>decorateIcons()</code> - Converts icon references to SVGs</li>
            <li><code>loadBlocks()</code> - Discovers and loads block code</li>
            <li><code>toClassName()</code> - Converts text to valid CSS class names</li>
            <li><code>getMetadata()</code> - Reads page metadata</li>
        </ul>
        
        <p><strong>scripts/scripts.js - Your Custom Code</strong></p>
        
        <div class="trainer-box do">
            <span class="label">[DO]</span> Open scripts.js and walk through the loadPage() function.
        </div>
        
<pre>// scripts/scripts.js - Key sections to highlight
async function loadPage() {
  await loadEager(document);    // Critical path - blocks above fold
  await loadLazy(document);     // Below fold content
  loadDelayed();                // Analytics, non-critical JS
}</pre>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> EDS uses a phased loading approach. Eager loading handles visible content first, lazy loading handles the rest, and delayed loading is for things like analytics that don't affect user experience.
        </div>
        
        <h3 class="subsection">2.3 Hands-on: Project Exploration</h3>
        <p class="time">â± 10 minutes</p>
        
        <p><strong>Exercise 2.1: Navigate the Boilerplate</strong></p>
        <ol>
            <li>Open the cloned boilerplate in VS Code</li>
            <li>Find the blocks/ folder - list all existing blocks</li>
            <li>Open one block folder - identify the JS and CSS files</li>
            <li>Open scripts/aem.js - find the createOptimizedPicture function</li>
            <li>Open styles/styles.css - note the CSS variable definitions</li>
        </ol>
        
        <div class="trainer-box check">
            <span class="label">[CHECK]</span> Ask 2-3 participants to share what blocks they found in the boilerplate.
        </div>
        
        <!-- Section 5 -->
        <h2 class="section-header" id="section5">5. Module 3: Block Anatomy</h2>
        <p class="time">â± Duration: 60 minutes</p>
        
        <h3 class="subsection">3.1 Block Structure Deep Dive</h3>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Now we get to the heart of EDS development - understanding how blocks work. A block is simply a div element with a specific class that gets enhanced by JavaScript and styled with CSS.
        </div>
        
        <p><strong>How Content Becomes a Block:</strong></p>
        
        <div class="trainer-box do">
            <span class="label">[DO]</span> Show this transformation in Google Docs vs. rendered HTML:
        </div>
        
<pre>GOOGLE DOCS TABLE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Hero                                  â”‚  â† Block name (first row)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Welcome to Our Site                   â”‚  â† Content row 1
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Discover amazing things...            â”‚  â† Content row 2
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Button: Learn More]                  â”‚  â† Content row 3
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>
        
<pre>GENERATED HTML:
&lt;div class="hero-wrapper"&gt;
  &lt;div class="hero block" data-block-name="hero" data-block-status="loaded"&gt;
    &lt;div&gt;
      &lt;div&gt;Welcome to Our Site&lt;/div&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;div&gt;Discover amazing things...&lt;/div&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;div&gt;&lt;a href="/learn" class="button"&gt;Learn More&lt;/a&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Notice the structure: wrapper div, block div with classes, and nested divs for each row and cell. Your decorate() function receives this block div and can transform it however needed.
        </div>
        
        <h3 class="subsection">3.2 The decorate() Function</h3>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Every block has a decorate() function. This is your entry point. EDS automatically calls it when the block loads.
        </div>
        
<pre>// blocks/hero/hero.js
export default function decorate(block) {
  // 'block' is the div with class="hero block"
  
  // Get all rows (direct children divs)
  const rows = [...block.children];
  
  // Process each row
  rows.forEach((row, index) => {
    // Get cells within the row
    const cells = [...row.children];
    
    // Do something with each cell
    cells.forEach(cell => {
      // Transform content as needed
    });
  });
}</pre>
        
        <div class="trainer-box do">
            <span class="label">[DO]</span> Type this code live while explaining each part. Add console.log statements to show the structure.
        </div>
        
        <h3 class="subsection">3.3 Common Block Patterns</h3>
        
        <p><strong>Pattern 1: Extract and Restructure</strong></p>
        
<pre>export default function decorate(block) {
  // Extract content from nested structure
  const heading = block.querySelector('h1, h2, h3');
  const paragraph = block.querySelector('p');
  const image = block.querySelector('picture');
  
  // Clear and rebuild
  block.innerHTML = '';
  
  // Create new structure
  const content = document.createElement('div');
  content.className = 'hero-content';
  if (heading) content.append(heading);
  if (paragraph) content.append(paragraph);
  
  const media = document.createElement('div');
  media.className = 'hero-media';
  if (image) media.append(image);
  
  block.append(content, media);
}</pre>
        
        <p><strong>Pattern 2: Add Classes Based on Content</strong></p>
        
<pre>export default function decorate(block) {
  const rows = [...block.children];
  
  rows.forEach((row, index) => {
    row.classList.add(`hero-row-${index + 1}`);
    
    // Check content type and add appropriate class
    if (row.querySelector('picture')) {
      row.classList.add('has-image');
    }
    if (row.querySelector('a')) {
      row.classList.add('has-cta');
    }
  });
}</pre>
        
        <p><strong>Pattern 3: Using EDS Utilities</strong></p>
        
<pre>import { createOptimizedPicture } from '../../scripts/aem.js';

export default function decorate(block) {
  // Optimize all images in the block
  block.querySelectorAll('img').forEach((img) => {
    const optimized = createOptimizedPicture(
      img.src,
      img.alt,
      false,  // eager loading
      [{ width: '750' }]  // breakpoints
    );
    img.closest('picture')?.replaceWith(optimized);
  });
}</pre>
        
        <h3 class="subsection">3.4 Block CSS Fundamentals</h3>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> CSS for blocks follows a scoped pattern. Always prefix your selectors with the block class to avoid conflicts.
        </div>
        
<pre>/* blocks/hero/hero.css */

/* Block container */
.hero {
  position: relative;
  min-height: 60vh;
  display: flex;
  align-items: center;
}

/* Target elements within the block */
.hero .hero-content {
  max-width: 600px;
  padding: 2rem;
}

.hero h1 {
  font-size: 3rem;
  margin-bottom: 1rem;
}

.hero p {
  font-size: 1.25rem;
  line-height: 1.6;
}

/* Use CSS variables from global styles */
.hero .button {
  background-color: var(--link-color);
  color: white;
  padding: 1rem 2rem;
}</pre>
        
        <div class="trainer-box note">
            <span class="label">[NOTE]</span> Always use the block class as a prefix (.hero h1 not just h1). This prevents your styles from leaking to other parts of the page.
        </div>
        
        <h3 class="subsection">3.5 Hands-on: Analyze Existing Blocks</h3>
        <p class="time">â± 20 minutes</p>
        
        <p><strong>Exercise 3.1: Block Analysis</strong></p>
        <ol>
            <li>Open the 'cards' block from the boilerplate (blocks/cards/)</li>
            <li>Read cards.js - identify the decorate() function</li>
            <li>List all DOM manipulations being performed</li>
            <li>Open cards.css - note the selector patterns</li>
            <li>Answer: How does the block determine the number of columns?</li>
        </ol>
        
        <div class="trainer-box check">
            <span class="label">[CHECK]</span> Review the cards block together. Ask participants to explain what each section does.
        </div>
        
        <!-- Section 6 -->
        <h2 class="section-header" id="section6">6. Module 4: Building Your First Block</h2>
        <p class="time">â± Duration: 90 minutes</p>
        
        <h3 class="subsection">4.1 Planning Our Block</h3>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Let's build a "Bio Cards" block from scratch. This will display team member profiles with photos, names, designations, and descriptions. We'll go through the complete process: planning, defining the component model, creating files, writing JavaScript, adding CSS, and testing.
        </div>
        
        <p><strong>Block Requirements:</strong></p>
        <ul>
            <li>Display team member bio cards with image and content</li>
            <li>Show person name, designation, and description</li>
            <li>Include a CTA button link</li>
            <li>Support multiple bio cards in a single block</li>
        </ul>
        
        <p><strong>Expected Document Structure:</strong></p>
<pre>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Bio Cards                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Person Photo]          â”‚ John Doe                       â”‚
â”‚                         â”‚ CEO &amp; Founder                  â”‚
â”‚                         â”‚ â€¢ Led company growth...        â”‚
â”‚                         â”‚ [Read More â†’]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Person Photo]          â”‚ Jane Smith                     â”‚
â”‚                         â”‚ CTO                            â”‚
â”‚                         â”‚ â€¢ Architected the platform...  â”‚
â”‚                         â”‚ [Read More â†’]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>
        
        <h3 class="subsection">4.2 Component Definition (Universal Editor)</h3>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Before writing block code, we need to define the component model for the Universal Editor. This tells authors what fields are available when creating Bio Cards content.
        </div>
        
<pre>{
    "definitions": [
        {
            "title": "Bio Cards",
            "id": "bio-cards",
            "plugins": {
                "xwalk": {
                    "page": {
                        "resourceType": "core/franklin/components/block/v1/block",
                        "template": {
                            "name": "Bio Cards",
                            "model": "bio-cards",
                            "filter": "bio-cards"
                        }
                    }
                }
            }
        },
        {
            "title": "Bio Card",
            "id": "bio-card",
            "plugins": {
                "xwalk": {
                    "page": {
                        "resourceType": "core/franklin/components/block/v1/block/item",
                        "template": {
                            "name": "Bio Card",
                            "model": "bio-card"
                        }
                    }
                }
            }
        }
    ],
    "models": [
        {
            "id": "bio-cards",
            "fields": [
                {
                    "component": "multiselect",
                    "name": "classes",
                    "label": "Classes",
                    "options": [
                        {
                            "name": "Cards Style",
                            "children": [
                                {
                                    "name": "Bio Cards",
                                    "value": "bio-cards"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "id": "bio-card",
            "fields": [
                {
                    "component": "reference",
                    "valueType": "string",
                    "name": "col1_image",
                    "label": "Image",
                    "multi": false
                },
                {
                    "component": "text",
                    "valueType": "string",
                    "name": "col1_imageAlt",
                    "label": "Image Alt",
                    "value": ""
                },
                {
                    "component": "text",
                    "name": "col2_person",
                    "value": "",
                    "label": "Name",
                    "valueType": "string"
                },
                {
                    "component": "richtext",
                    "name": "col2_designation",
                    "value": "",
                    "label": "Designation",
                    "valueType": "string"
                },
                {
                    "component": "richtext",
                    "name": "col2_description",
                    "value": "",
                    "label": "Description",
                    "valueType": "string"
                },
                {
                    "component": "aem-content",
                    "name": "col2_link",
                    "label": "Link"
                },
                {
                    "component": "text",
                    "name": "col2_linkText",
                    "label": "Text"
                },
                {
                    "component": "text",
                    "name": "col2_linkTitle",
                    "label": "Title"
                },
                {
                    "component": "select",
                    "name": "col2_linkType",
                    "label": "Type",
                    "options": [
                        {
                            "name": "default",
                            "value": ""
                        },
                        {
                            "name": "primary",
                            "value": "primary"
                        },
                        {
                            "name": "secondary",
                            "value": "secondary"
                        }
                    ]
                }
            ]
        }
    ],
    "filters": [
        {
            "id": "bio-cards",
            "components": [
                "bio-card"
            ]
        }
    ]
}</pre>
        
        <h3 class="subsection">4.3 Step-by-Step: Create the Block Files</h3>
        
        <div class="trainer-box do">
            <span class="label">[DO]</span> Create the block folder and files together with participants. Go slowly and explain each step.
        </div>
        
        <p><strong>Step 1: Create the folder structure</strong></p>
<pre># In terminal (or use VS Code)
cd blocks/
mkdir bio-cards
touch bio-cards/bio-cards.js
touch bio-cards/bio-cards.css</pre>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Remember the naming rule: folder name, JS file, and CSS file must all match the block name exactly. Case matters! Also note how the block name uses hyphens, not camelCase.
        </div>
        
        <h3 class="subsection">4.4 Writing the JavaScript</h3>
        
        <div class="trainer-box do">
            <span class="label">[DO]</span> Type this code live, explaining each section. Encourage participants to type along.
        </div>
        
        <p><strong>Step 2: Basic decorate function</strong></p>
<pre>// blocks/bio-cards/bio-cards.js

export default function decorate(block) {
  console.log('Bio Cards block loaded!');
  console.log('Block element:', block);
  console.log('Children (cards):', block.children);
}</pre>
        
        <div class="trainer-box check">
            <span class="label">[CHECK]</span> Have everyone save and test. They should see the console logs when viewing a page with a Bio Cards block.
        </div>
        
        <p><strong>Step 3: Iterate cards and classify elements</strong></p>
<pre>// blocks/bio-cards/bio-cards.js

export default function decorate(block) {
  // Each direct child is a bio card (one per row)
  [...block.children].forEach(card => {
    card.classList.add('bio-cards-slide');

    // Each card has two columns: image + content
    const [imgWrapper, contentWrapper] = [...card.children];
    if (!imgWrapper || !contentWrapper) return;

    imgWrapper.classList.add('bio-card-img');
    contentWrapper.classList.add('bio-card-content');

    // Content wrapper contains: name, designation, description, button
    const [name, designation, description, buttonContainer] = [
      ...contentWrapper.children,
    ];

    name?.classList.add('bio-card-name');
    designation?.classList.add('bio-card-designation');
    description?.classList.add('bio-card-description');
    buttonContainer?.classList.add('bio-card-btn-text');

    console.log('Card:', { name, designation, description });
  });
}</pre>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Notice we're not rebuilding the DOM from scratch. Instead we're adding semantic classes to the existing structure. This is a lighter approach that preserves author content.
        </div>
        
        <p><strong>Step 4: Complete block code</strong></p>
<pre>// blocks/bio-cards/bio-cards.js

export default function decorate(block) {
  [...block.children].forEach(card => {
    card.classList.add('bio-cards-slide');

    const [imgWrapper, contentWrapper] = [...card.children];
    if (!imgWrapper || !contentWrapper) return;

    imgWrapper.classList.add('bio-card-img');
    contentWrapper.classList.add('bio-card-content');

    const [name, designation, description, buttonContainer] = [
      ...contentWrapper.children,
    ];

    name?.classList.add('bio-card-name');
    designation?.classList.add('bio-card-designation');
    description?.classList.add('bio-card-description');
    buttonContainer?.classList.add('bio-card-btn-text');
  });
}</pre>
        
        <h3 class="subsection">4.5 Adding the CSS</h3>
        
        <div class="trainer-box do">
            <span class="label">[DO]</span> Now let's style our block. Add the CSS together. This block has several styling layers: card layout, content styles, and responsive behavior.
        </div>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Bio Cards CSS is split into logical sections. Let's start with the card layout styles used in the "our-team" section variant.
        </div>
        
<pre>/* blocks/bio-cards/bio-cards.css */

.section.our-team {
    margin: 0;
}

.our-team {
    padding: 6.75rem 0;
    background-color: #f1f1f1;
}

.our-team .bio-cards {
    display: flex;
    flex-direction: column;
    gap: var(--text-5xl);
}

.our-team .bio-cards .bio-cards-slide {
    display: flex;
    flex-direction: row-reverse;
    justify-content: center;
}

.our-team .bio-cards .bio-card-img {
    width: 30%;
    height: 699px;
}

.our-team .bio-cards .bio-card-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.our-team .bio-cards .bio-card-content {
    background-color: #fff;
    height: auto;
    padding: 3rem 50px;
    max-width: 50%;
}

.our-team .bio-cards .bio-card-content .bio-card-name {
    font-size: var(--text-3xl);
    color: #e00025;
    font-weight: 500;
    line-height: var(--text-3xl-lh);
    margin-bottom: 0.5rem;
    margin-top: 0;
    font-family: var(--ff-medium), sans-serif;
    text-align: start;
}

.our-team .bio-cards .bio-card-content .bio-card-designation {
    font-family: var(--ff-thin), sans-serif;
    text-align: start;
    font-size: var(--text-lg);
    line-height: var(--text-3xl);
    font-weight: 300;
    color: rgb(33 37 41);
    margin-bottom: var(--text-base);
    margin-top: 0;
    position: relative;
}

.our-team .bio-cards .bio-card-content .bio-card-designation::after {
    background: #e8e8e9;
    content: '';
    height: 5px;
    left: 0;
    margin: 10px auto;
    position: absolute;
    top: 100%;
    width: 20%;
}

.our-team .bio-cards .bio-card-content .bio-card-description {
    list-style: none;
    line-height: var(--text-lg-lh);
    margin: 0 auto;
    max-width: 100%;
    position: relative;
    white-space: normal;
    padding: 24px 0 0;
    display: -webkit-box;
    -webkit-line-clamp: 8;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.our-team .bio-cards .bio-card-content .bio-card-btn-text {
    max-width: 250px;
    height: 60px;
    margin: 3rem 0;
}

.our-team .bio-cards .bio-card-content .bio-card-btn-text .button {
    width: 100%;
    background-color: #f7f7f7;
    display: flex;
    justify-content: space-between;
    font-size: var(--text-xl);
    line-height: var(--text-3xl);
    font-weight: 600;
    color: rgb(224 0 37);
    cursor: pointer;
    font-family: var(--ff-semibold);
}

.our-team .bio-cards .bio-card-content .bio-card-description li {
    text-align: start;
    margin-bottom: var(--text-base);
    margin-top: 0;
    font-family: poppin-regular, sans-serif;
    font-size: var(--text-xl);
    line-height: var(--text-lg-lh);
    color: rgb(33 37 41);
}

@media (width &lt;= 900px) {
    .our-team {
        padding: 60px 0;
    }

    .our-team .bio-cards .bio-card-content .bio-card-designation::after {
        left: 38%;
    }

    .our-team .bio-cards .bio-cards-slide {
        flex-direction: column;
    }

    .our-team .bio-cards .bio-card-img {
        width: 100%;
        height: auto;
        line-height: 0px;
    }

    .our-team .bio-cards .bio-card-content {
        max-width: 100%;
    }

    .our-team .bio-cards-wrapper {
        padding: 0 12px;
    }

    .our-team .bio-cards .bio-card-content .bio-card-name,
    .our-team .bio-cards .bio-card-content .bio-card-designation,
    .our-team .bio-cards .bio-card-content .bio-card-description li {
        text-align: center;
    }

    .our-team .bio-cards .bio-card-content .bio-card-name {
        font-size: var(--text-lg-lh);
        line-height: var(--text-3xl);
    }

    .our-team .bio-cards .bio-card-content .bio-card-designation {
        font-size: var(--text-lg);
        line-height: var(--text-2xl);
        font-weight: 300;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .our-team .bio-cards .bio-card-content .bio-card-description li {
        font-size: var(--text-xl);
        line-height: var(--text-lg-lh);
        font-weight: 400;
    }
}</pre>
        
        <h3 class="subsection">4.6 Testing the Block</h3>
        
        <div class="trainer-box do">
            <span class="label">[DO]</span> Create a test page with Bio Cards content using the Universal Editor and preview it.
        </div>
        
        <p><strong>Testing Steps:</strong></p>
        <ol>
            <li>Add Bio Cards block to a page via Universal Editor</li>
            <li>Add 2-3 bio cards with images, names, designations, and descriptions</li>
            <li>Preview using Sidekick or local server</li>
            <li>Open DevTools to inspect the generated HTML classes</li>
            <li>Verify all classes are applied (bio-cards-slide, bio-card-img, bio-card-content, etc.)</li>
            <li>Test responsive behavior by resizing the browser</li>
        </ol>
        
        <div class="trainer-box check">
            <span class="label">[CHECK]</span> Walk around and help participants troubleshoot. Common issues: typos in file names, missing export default, CSS selector specificity.
        </div>
        
        <h3 class="subsection">4.6 Exercise: Build Your Own Block</h3>
        <p class="time">â± 30 minutes</p>
        
        <p><strong>Exercise 4.1: Create a 'Feature' Block</strong></p>
        <p>Build a block that displays a feature with:</p>
        <ul>
            <li>An icon (use an emoji or image)</li>
            <li>A heading</li>
            <li>A description</li>
            <li>Optional: A link</li>
        </ul>
        
        <p><strong>Document structure:</strong></p>
<pre>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Feature                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸš€                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Lightning Fast                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Our platform delivers sub-second      â”‚
â”‚ response times globally.              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>
        
        <div class="trainer-box note">
            <span class="label">[NOTE]</span> Solution is provided in Section 9. Give participants 25 minutes to work, then review together.
        </div>
        
        <!-- Section 7 -->
        <h2 class="section-header" id="section7">7. Module 5: Advanced Block Patterns</h2>
        <p class="time">â± Duration: 60 minutes</p>
        
        <h3 class="subsection">5.1 Working with Images</h3>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Images are crucial for web performance. EDS provides createOptimizedPicture() to generate responsive images with proper srcset and lazy loading.
        </div>
        
<pre>import { createOptimizedPicture } from '../../scripts/aem.js';

export default function decorate(block) {
  // Find all images in the block
  block.querySelectorAll('img').forEach((img) => {
    // Create optimized picture element
    const optimized = createOptimizedPicture(
      img.src,           // Image URL
      img.alt || '',     // Alt text
      false,             // Eager loading (true for above-fold images)
      [                  // Breakpoints
        { media: '(min-width: 600px)', width: '750' },
        { width: '400' }
      ]
    );
    
    // Replace the original picture element
    const originalPicture = img.closest('picture');
    if (originalPicture) {
      originalPicture.replaceWith(optimized);
    }
  });
}</pre>
        
        <div class="trainer-box do">
            <span class="label">[DO]</span> Show the before and after in DevTools - the generated srcset and sizes attributes.
        </div>
        
        <h3 class="subsection">5.2 Working with Icons</h3>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> EDS uses a colon syntax for icons in documents: :icon-name: becomes an SVG from the /icons/ folder.
        </div>
        
<pre>import { decorateIcons } from '../../scripts/aem.js';

export default async function decorate(block) {
  // Authors write :checkmark: in their document
  // EDS converts to: &lt;span class="icon icon-checkmark"&gt;&lt;/span&gt;
  
  // decorateIcons() loads the SVG and injects it
  await decorateIcons(block);
  
  // Now you can style the SVG
  block.querySelectorAll('.icon svg').forEach((svg) => {
    svg.style.fill = 'currentColor';
  });
}</pre>
        
        <p><strong>Icon file requirements:</strong></p>
        <ul>
            <li>Place SVG files in /icons/ folder</li>
            <li>Name must match: :checkmark: â†’ /icons/checkmark.svg</li>
            <li>SVGs should be optimized (use SVGO)</li>
            <li>Remove hardcoded colors for CSS styling</li>
        </ul>
        
        <h3 class="subsection">5.3 Async Operations in Blocks</h3>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Sometimes blocks need to fetch data or wait for resources. The decorate function can be async.
        </div>
        
<pre>export default async function decorate(block) {
  // Show loading state
  block.classList.add('loading');
  
  try {
    // Fetch external data
    const response = await fetch('/api/data.json');
    const data = await response.json();
    
    // Use the data to build content
    data.items.forEach(item => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        &lt;h3&gt;${item.title}&lt;/h3&gt;
        &lt;p&gt;${item.description}&lt;/p&gt;
      `;
      block.append(card);
    });
  } catch (error) {
    console.error('Failed to load data:', error);
    block.innerHTML = '&lt;p&gt;Failed to load content&lt;/p&gt;';
  } finally {
    block.classList.remove('loading');
  }
}</pre>
        
        <h3 class="subsection">5.4 Block Communication</h3>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Sometimes blocks need to communicate with each other. Use custom events for loose coupling.
        </div>
        
<pre>// Block A: Dispatch event
export default function decorate(block) {
  block.addEventListener('click', () => {
    const event = new CustomEvent('product-selected', {
      detail: { productId: '123', name: 'Widget' },
      bubbles: true
    });
    block.dispatchEvent(event);
  });
}

// Block B: Listen for event
export default function decorate(block) {
  document.addEventListener('product-selected', (e) => {
    const { productId, name } = e.detail;
    block.innerHTML = `Selected: ${name} (ID: ${productId})`;
  });
}</pre>
        
        <h3 class="subsection">5.5 Performance Best Practices</h3>
        
        <p><strong>Do:</strong></p>
        <ul>
            <li>Use CSS for animations (not JavaScript)</li>
            <li>Lazy load images below the fold</li>
            <li>Minimize DOM manipulations</li>
            <li>Use event delegation for dynamic content</li>
            <li>Keep blocks focused - one responsibility</li>
        </ul>
        
        <p><strong>Don't:</strong></p>
        <ul>
            <li>Import large libraries (bundle size matters)</li>
            <li>Use innerHTML for untrusted content</li>
            <li>Add blocking operations in decorate()</li>
            <li>Create memory leaks with unremoved listeners</li>
            <li>Override core EDS functionality</li>
        </ul>
        
        <h3 class="subsection">5.6 Hands-on: Add Image Optimization</h3>
        <p class="time">â± 15 minutes</p>
        
        <p><strong>Exercise 5.1: Enhance Your Bio Cards Block</strong></p>
        <ol>
            <li>Import createOptimizedPicture from aem.js</li>
            <li>Apply image optimization to the bio card photos</li>
            <li>Add appropriate breakpoints for responsive images</li>
            <li>Test on different screen sizes</li>
        </ol>
        
        <!-- Section 8 -->
        <h2 class="section-header" id="section8">8. Module 6: Block Variants</h2>
        <p class="time">â± Duration: 45 minutes</p>
        
        <h3 class="subsection">6.1 What Are Block Variants?</h3>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Variants let authors customize block appearance without creating new blocks. They add modifier classes using parentheses syntax in the document.
        </div>
        
        <p><strong>Variant Syntax in Documents:</strong></p>
<pre>Document table header:          Generated HTML class:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Hero                          â†’ class="hero block"
Hero (centered)               â†’ class="hero centered block"
Hero (dark, large)            â†’ class="hero dark large block"
Cards (3-columns)             â†’ class="cards 3-columns block"</pre>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> The text in parentheses becomes additional CSS classes. Multiple variants are comma-separated. This is powerful because authors control the look without touching code.
        </div>
        
        <h3 class="subsection">6.2 Implementing Variants in CSS</h3>
        
<pre>/* blocks/hero/hero.css */

/* Base hero styles */
.hero {
  min-height: 50vh;
  padding: 2rem;
  background-color: white;
  color: var(--text-color);
}

/* Variant: centered */
.hero.centered {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* Variant: dark */
.hero.dark {
  background-color: var(--dark-color, #1a1a2e);
  color: white;
}

.hero.dark .button {
  background-color: white;
  color: var(--dark-color);
}

/* Variant: large */
.hero.large {
  min-height: 80vh;
  padding: 4rem;
}

.hero.large h1 {
  font-size: 4rem;
}

/* Combining variants */
.hero.dark.centered {
  /* Specific styles when both variants are applied */
}

/* Variant with value: 3-columns */
.cards.3-columns {
  grid-template-columns: repeat(3, 1fr);
}</pre>
        
        <h3 class="subsection">6.3 Implementing Variants in JavaScript</h3>
        
        <div class="trainer-box say">
            <span class="label">[SAY]</span> Sometimes variants need JavaScript logic, not just CSS. You can check for variant classes in your decorate function.
        </div>
        
<pre>export default function decorate(block) {
  // Check for specific variants
  const isCentered = block.classList.contains('centered');
  const isDark = block.classList.contains('dark');
  const isCarousel = block.classList.contains('carousel');
  
  // Adjust behavior based on variants
  if (isCarousel) {
    // Add carousel functionality
    initCarousel(block);
  }
  
  if (isDark) {
    // Maybe adjust icon colors for contrast
    block.querySelectorAll('.icon').forEach(icon => {
      icon.style.color = 'white';
    });
  }
  
  // You can also extract variant values
  const columnMatch = [...block.classList]
    .find(c => c.match(/^(\d+)-columns$/));
  
  if (columnMatch) {
    const columns = parseInt(columnMatch);
    block.style.setProperty('--columns', columns);
  }
}</pre>
        
        <h3 class="subsection">6.4 Variant Best Practices</h3>
        
        <p><strong>Naming Conventions:</strong></p>
        <ul>
            <li>Use descriptive names: 'dark', 'centered', 'wide'</li>
            <li>For values, use patterns: '3-columns', 'large-gap'</li>
            <li>Keep names short but meaningful</li>
            <li>Document available variants for authors</li>
        </ul>
        
        <p><strong>Design Principles:</strong></p>
        <ul>
            <li>Base styles should work without variants</li>
            <li>Variants should enhance, not fix broken layouts</li>
            <li>Limit to 3-5 variants per block</li>
            <li>Test all variant combinations</li>
        </ul>
        
        <h3 class="subsection">6.5 Hands-on: Add Variants</h3>
        <p class="time">â± 20 minutes</p>
        
        <p><strong>Exercise 6.1: Extend Your Bio Cards Block</strong></p>
        <p>Add these variants to your bio-cards block:</p>
        <ol>
            <li><strong>'our-team-card'</strong> - Alternative card styling with different background</li>
            <li><strong>'ceo-desk'</strong> - CEO spotlight layout with circular image and background</li>
            <li>Combine section metadata classes with block variants</li>
        </ol>
        
        <p>Test by creating pages with section metadata:</p>
<pre>Bio Cards (with section class: our-team)
Bio Cards (with section class: our-team our-team-card)
Bio Cards (with section class: ceo-desk)</pre>
        
        <!-- Section 9 -->
        <h2 class="section-header" id="section9">9. Exercise Solutions</h2>
        
        <h3 class="subsection">Solution 4.1: Feature Block</h3>
        
<pre>// blocks/feature/feature.js

export default function decorate(block) {
  const rows = [...block.children];
  
  // Clear block
  block.innerHTML = '';
  
  // Create feature structure
  const container = document.createElement('div');
  container.className = 'feature-container';
  
  // Process rows: icon, heading, description, link
  rows.forEach((row, index) => {
    const content = row.textContent.trim();
    const element = document.createElement('div');
    
    switch(index) {
      case 0: // Icon
        element.className = 'feature-icon';
        element.innerHTML = `&lt;span class="icon"&gt;${content}&lt;/span&gt;`;
        break;
      case 1: // Heading
        element.className = 'feature-heading';
        element.innerHTML = `&lt;h3&gt;${content}&lt;/h3&gt;`;
        break;
      case 2: // Description
        element.className = 'feature-description';
        element.innerHTML = `&lt;p&gt;${content}&lt;/p&gt;`;
        break;
      case 3: // Link (optional)
        const link = row.querySelector('a');
        if (link) {
          element.className = 'feature-link';
          link.className = 'button';
          element.append(link);
        }
        break;
    }
    
    if (element.innerHTML) {
      container.append(element);
    }
  });
  
  block.append(container);
}</pre>

<pre>/* blocks/feature/feature.css */

.feature {
  padding: 2rem;
  text-align: center;
  background: linear-gradient(135deg, #f5f7fa 0%, #e4e8ec 100%);
  border-radius: 12px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.feature:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
}

.feature .feature-icon {
  font-size: 3rem;
  margin-bottom: 1rem;
}

.feature .feature-heading h3 {
  font-size: 1.5rem;
  margin-bottom: 0.75rem;
  color: var(--heading-color, #1a1a2e);
}

.feature .feature-description p {
  color: var(--text-color, #555);
  line-height: 1.6;
  margin-bottom: 1.5rem;
}

.feature .feature-link .button {
  display: inline-block;
  padding: 0.75rem 1.5rem;
  background-color: var(--link-color, #035fe6);
  color: white;
  text-decoration: none;
  border-radius: 6px;
}</pre>
        
        <h3 class="subsection">Solution 5.1: Image Optimization Enhancement</h3>
        
<pre>// blocks/bio-cards/bio-cards.js (updated with image optimization)

import { createOptimizedPicture } from '../../scripts/aem.js';

export default function decorate(block) {
  // Optimize all images first
  block.querySelectorAll('img').forEach((imgEl) => {
    const optimized = createOptimizedPicture(
      imgEl.src,
      imgEl.alt || 'Team member photo',
      false,
      [
        { media: '(min-width: 900px)', width: '400' },
        { width: '300' }
      ]
    );
    imgEl.closest('picture')?.replaceWith(optimized);
  });

  [...block.children].forEach(card => {
    card.classList.add('bio-cards-slide');
    const [imgWrapper, contentWrapper] = [...card.children];
    if (!imgWrapper || !contentWrapper) return;

    imgWrapper.classList.add('bio-card-img');
    contentWrapper.classList.add('bio-card-content');

    const [name, designation, description, buttonContainer] = [
      ...contentWrapper.children,
    ];

    name?.classList.add('bio-card-name');
    designation?.classList.add('bio-card-designation');
    description?.classList.add('bio-card-description');
    buttonContainer?.classList.add('bio-card-btn-text');
  });
}</pre>
        
        <h3 class="subsection">Solution 6.1: Bio Cards Variants</h3>
        
<pre>/* blocks/bio-cards/bio-cards.css (variant additions) */

/* Variant: our-team-card - alternate card style */
.our-team.our-team-card {
  background-color: white;
}

.our-team.our-team-card .bio-cards .bio-card-content {
  background-color: #f1f1f1;
  max-width: 57%;
  padding: 32px;
}

.our-team.our-team-card .bio-cards .bio-card-img {
  height: 477px;
}

.our-team.our-team-card .bio-cards .bio-card-content
  ul.bio-card-description {
  max-height: 270px;
  overflow-y: auto;
  display: block;
}

/* Variant: ceo-desk - CEO spotlight layout */
.section.ceo-desk {
  padding: 108px 0;
  position: relative;
  background-image: url('/icons/ceo-background.png');
  background-size: cover;
  background-position: center;
}

.section.ceo-desk .bio-card-img img {
  width: 518px;
  border-radius: 50%;
  object-fit: cover;
}

.section.ceo-desk .bio-card-content .bio-card-name {
  order: 1;
}

.section.ceo-desk .bio-card-content .bio-card-designation {
  order: 4;
  margin-bottom: 80px;
}

.section.ceo-desk .bio-card-content .bio-card-description {
  order: 2;
  display: -webkit-box;
  -webkit-line-clamp: 4;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.section.ceo-desk .bio-card-content .bio-card-btn-text {
  order: 3;
}</pre>
        
        <!-- Section 10 -->
        <h2 class="section-header" id="section10">10. Troubleshooting Guide</h2>
        
        <h3 class="subsection">Common Issues and Solutions</h3>
        
        <p><strong>Issue: Block not loading</strong></p>
<pre>Symptoms:
- Block div exists but no decoration applied
- Console shows "Failed to load block: [name]"

Solutions:
1. Check file names match exactly: 
   blocks/hero/hero.js (not Hero.js or hero-block.js)
   
2. Verify export default:
   âœ— function decorate(block) { }
   âœ“ export default function decorate(block) { }
   
3. Check for JavaScript syntax errors in console

4. Ensure block table name matches folder name</pre>
        
        <p><strong>Issue: CSS not applying</strong></p>
<pre>Symptoms:
- JavaScript runs but styles missing
- Elements visible but unstyled

Solutions:
1. Check CSS file name matches: blocks/hero/hero.css

2. Verify selector specificity:
   âœ— .hero-content { }  /* Too generic */
   âœ“ .hero .hero-content { }  /* Scoped to block */
   
3. Check for CSS syntax errors (missing semicolons, brackets)

4. Inspect computed styles in DevTools to see overrides</pre>
        
        <p><strong>Issue: Images not optimized</strong></p>
<pre>Symptoms:
- Images load but no srcset
- Large images on mobile

Solutions:
1. Ensure correct import:
   import { createOptimizedPicture } from '../../scripts/aem.js';
   
2. Replace picture element, not just img:
   img.closest('picture').replaceWith(optimized);
   
3. Check image URL is accessible</pre>
        
        <p><strong>Issue: Block variants not working</strong></p>
<pre>Symptoms:
- Variant class not appearing
- Styles not applying to variant

Solutions:
1. Check document syntax: Hero (dark) not Hero [dark]

2. Verify class is added (inspect element):
   class="hero dark block"
   
3. CSS selector must include block class:
   âœ— .dark { }
   âœ“ .hero.dark { }</pre>
        
        <h3 class="subsection">Debugging Tips</h3>
        <ul>
            <li>Add <code>console.log()</code> at start of decorate() to confirm execution</li>
            <li>Use <code>debugger;</code> statement to pause and inspect</li>
            <li>Check Network tab for failed resource loads</li>
            <li>Use Elements panel to verify DOM structure</li>
            <li>Test in incognito to rule out caching issues</li>
        </ul>
        
        <hr style="margin: 50px 0; border: none; border-top: 2px solid var(--adobe-red);">
        
        <p style="text-align: center; font-size: 1.2rem; color: var(--dark-gray);">
            <strong>End of Trainer Guide</strong><br>
            <em>Good luck with your training session!</em>
        </p>
        
        <a href="#" class="back-link">â†‘ Back to Top</a>
    </div>
    
    <script>
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>
